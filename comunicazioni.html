<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inserisci Materia</title>
</head>
<body>

<h1>Inserisci Dettagli Materia</h1>

<form id="materiaForm">
    <label for="materia">Materia:</label>
    <input type="text" id="materia" required>
    <br><br>

    <label for="data">Data:</label>
    <input type="date" id="data" required>
    <br><br>

    <label for="descrizione">Descrizione:</label>
    <textarea id="descrizione" required></textarea>
    <br><br>

    <button type="submit">Aggiungi</button>
</form>

<p><a href="comunicazioni.html">Vai alla pagina di visualizzazione</a></p>

<script>
    // Funzione per salvare i dati nel localStorage
    function saveData(materie) {
        localStorage.setItem('materie', JSON.stringify(materie));
    }

    // Funzione per caricare i dati dal localStorage
    function loadData() {
        const data = localStorage.getItem('materie');
        return data ? JSON.parse(data) : [];
    }

    // Funzione per aggiungere una materia
    function addMateria(materia, data, descrizione) {
        const materie = loadData();
        materie.push({ materia, data, descrizione });
        saveData(materie);
    }

    // Inizializzazione
    document.getElementById('materiaForm').addEventListener('submit', function (event) {
        event.preventDefault();

        const materia = document.getElementById('materia').value;
        const data = document.getElementById('data').value;
        const descrizione = document.getElementById('descrizione').value;

        addMateria(materia, data, descrizione);

        // Reset del form
        document.getElementById('materiaForm').reset();
        alert('Materia aggiunta con successo!');
    });
</script>

</body>
</html>
